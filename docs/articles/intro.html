<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create and Manipulate BioCompute Objects with R • biocompute</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Create and Manipulate BioCompute Objects with R">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-87185344-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-87185344-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">biocompute</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/case-study.html">Authoring Biocompute Objects with R: A Case Study</a>
    </li>
    <li>
      <a href="../articles/intro.html">Create and Manipulate BioCompute Objects with R</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sbg/biocompute">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Create and Manipulate BioCompute Objects with R</h1>
                        <h4 class="author">Nan Xiao &lt;<a href="mailto:nan.xiao@sevenbridges.com" class="email">nan.xiao@sevenbridges.com</a>&gt;</h4>
            
            <h4 class="date">2019-10-31</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sbg/biocompute/blob/master/vignettes/intro.Rmd"><code>vignettes/intro.Rmd</code></a></small>
      <div class="hidden name"><code>intro.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The biocompute package offers a toolkit to create, validate, and export BioCompute Objects (BCO). This package follows the tidyverse design principles and can be seamlessly used together with the other packages with similar designs.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"biocompute"</span>)</span></code></pre></div>
</div>
<div id="design-for-reproducibility" class="section level1">
<h1 class="hasAnchor">
<a href="#design-for-reproducibility" class="anchor"></a>Design for Reproducibility</h1>
<p>To ensure better reproducibility, the composing and validation functions in this package are versioned. This means the BCO creation and validation can be done with fixed versions of the BioCompute Object specification if needed.</p>
<p>For example, to compose the provenance domain, one could use <code><a href="../reference/compose_provenance.html">compose_provenance()</a></code>, which is an alias to the current stable version of the specification. Alternatively, one could use a versioned function <code><a href="../reference/compose_provenance.html">compose_provenance_v1.3.0()</a></code>. As the specification evolves, functions for new spec versions can be added, and <code><a href="../reference/compose_provenance.html">compose_provenance()</a></code> might point to a newer version in the future, while <code><a href="../reference/compose_provenance.html">compose_provenance_v1.3.0()</a></code> will not change over time.</p>
<p>The function <code><a href="../reference/versions.html">biocompute::versions()</a></code> tells the current and all available versions of the BioCompute Object specification supported in this package:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>biocompute<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/biocompute/man/versions.html">versions</a></span>()</span></code></pre></div>
<pre><code>$current
[1] "1.3.0"

$available
[1] "1.3.0"</code></pre>
</div>
<div id="compose-biocompute-object-domains" class="section level1">
<h1 class="hasAnchor">
<a href="#compose-biocompute-object-domains" class="anchor"></a>Compose BioCompute Object Domains</h1>
<p>The package takes structured, native R data structures (vector or data frames), and turns them into BioCompute Objects. The functions <code>compose_*()</code> and <code><a href="../reference/compose.html">biocompute::compose()</a></code> are used to compose BioCompute Object domains and the final BioCompute Object.</p>
<p>For example, to compose the provenance domain, we first prepare the data as data frames or vectors with a fixed set of variables names, and feed them into <code><a href="../reference/compose_provenance.html">compose_provenance()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>name &lt;-<span class="st"> "HCV1a ledipasvir resistance SNP detection"</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>version &lt;-<span class="st"> "1.0.0"</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>review &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(</span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="st">"status"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"approved"</span>, <span class="st">"approved"</span>),</span>
<span id="cb4-5"><a href="#cb4-5"></a>  <span class="st">"reviewer_comment"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(</span>
<span id="cb4-6"><a href="#cb4-6"></a>    <span class="st">"Approved by [company name] staff. Waiting for approval from FDA Reviewer"</span>,</span>
<span id="cb4-7"><a href="#cb4-7"></a>    <span class="st">"The revised BCO looks fine"</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>  ),</span>
<span id="cb4-9"><a href="#cb4-9"></a>  <span class="st">"date"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(</span>
<span id="cb4-10"><a href="#cb4-10"></a>    <span class="kw"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span>(<span class="st">"2017-11-12T12:30:48"</span>, <span class="dt">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, <span class="dt">tz =</span> <span class="st">"EST"</span>),</span>
<span id="cb4-11"><a href="#cb4-11"></a>    <span class="kw"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span>(<span class="st">"2017-12-12T12:30:48"</span>, <span class="dt">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, <span class="dt">tz =</span> <span class="st">"America/Los_Angeles"</span>)</span>
<span id="cb4-12"><a href="#cb4-12"></a>  ),</span>
<span id="cb4-13"><a href="#cb4-13"></a>  <span class="st">"reviewer_name"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Jane Doe"</span>, <span class="st">"John Doe"</span>),</span>
<span id="cb4-14"><a href="#cb4-14"></a>  <span class="st">"reviewer_affiliation"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Seven Bridges Genomics"</span>, <span class="st">"U.S. Food and Drug Administration"</span>),</span>
<span id="cb4-15"><a href="#cb4-15"></a>  <span class="st">"reviewer_email"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"example@sevenbridges.com"</span>, <span class="st">"example@fda.gov"</span>),</span>
<span id="cb4-16"><a href="#cb4-16"></a>  <span class="st">"reviewer_contribution"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"curatedBy"</span>, <span class="st">"curatedBy"</span>),</span>
<span id="cb4-17"><a href="#cb4-17"></a>  <span class="st">"reviewer_orcid"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"https://orcid.org/0000-0000-0000-0000"</span>, <span class="ot">NA</span>),</span>
<span id="cb4-18"><a href="#cb4-18"></a>  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span></span>
<span id="cb4-19"><a href="#cb4-19"></a>)</span>
<span id="cb4-20"><a href="#cb4-20"></a></span>
<span id="cb4-21"><a href="#cb4-21"></a>derived_from &lt;-<span class="st"> "https://github.com/biocompute-objects/BCO_Specification/blob/1.2.1-beta/HCV1a.json"</span></span>
<span id="cb4-22"><a href="#cb4-22"></a>obsolete_after &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span>(<span class="st">"2018-11-12T12:30:48"</span>, <span class="dt">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, <span class="dt">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb4-23"><a href="#cb4-23"></a></span>
<span id="cb4-24"><a href="#cb4-24"></a>embargo &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(</span>
<span id="cb4-25"><a href="#cb4-25"></a>  <span class="st">"start_time"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span>(<span class="st">"2017-10-12T12:30:48"</span>, <span class="dt">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, <span class="dt">tz =</span> <span class="st">"EST"</span>),</span>
<span id="cb4-26"><a href="#cb4-26"></a>  <span class="st">"end_time"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span>(<span class="st">"2017-11-12T12:30:48"</span>, <span class="dt">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, <span class="dt">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb4-27"><a href="#cb4-27"></a>)</span>
<span id="cb4-28"><a href="#cb4-28"></a></span>
<span id="cb4-29"><a href="#cb4-29"></a>created &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span>(<span class="st">"2017-01-20T09:40:17"</span>, <span class="dt">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, <span class="dt">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb4-30"><a href="#cb4-30"></a></span>
<span id="cb4-31"><a href="#cb4-31"></a>modified &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span>(<span class="st">"2019-05-10T09:40:17"</span>, <span class="dt">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, <span class="dt">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb4-32"><a href="#cb4-32"></a></span>
<span id="cb4-33"><a href="#cb4-33"></a>contributors &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(</span>
<span id="cb4-34"><a href="#cb4-34"></a>  <span class="st">"name"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Jane Doe"</span>, <span class="st">"John Doe"</span>),</span>
<span id="cb4-35"><a href="#cb4-35"></a>  <span class="st">"affiliation"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Seven Bridges Genomics"</span>, <span class="st">"U.S. Food and Drug Administration"</span>),</span>
<span id="cb4-36"><a href="#cb4-36"></a>  <span class="st">"email"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"example@sevenbridges.com"</span>, <span class="st">"example@fda.gov"</span>),</span>
<span id="cb4-37"><a href="#cb4-37"></a>  <span class="st">"contribution"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"createdBy"</span>, <span class="st">"curatedBy"</span>), <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"authoredBy"</span>))),</span>
<span id="cb4-38"><a href="#cb4-38"></a>  <span class="st">"orcid"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"https://orcid.org/0000-0000-0000-0000"</span>, <span class="ot">NA</span>),</span>
<span id="cb4-39"><a href="#cb4-39"></a>  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span></span>
<span id="cb4-40"><a href="#cb4-40"></a>)</span>
<span id="cb4-41"><a href="#cb4-41"></a></span>
<span id="cb4-42"><a href="#cb4-42"></a>license &lt;-<span class="st"> "https://creativecommons.org/licenses/by/4.0/"</span></span>
<span id="cb4-43"><a href="#cb4-43"></a></span>
<span id="cb4-44"><a href="#cb4-44"></a><span class="kw"><a href="../reference/compose_provenance.html">compose_provenance</a></span>(</span>
<span id="cb4-45"><a href="#cb4-45"></a>  name, version, review, derived_from, obsolete_after,</span>
<span id="cb4-46"><a href="#cb4-46"></a>  embargo, created, modified, contributors, license</span>
<span id="cb4-47"><a href="#cb4-47"></a>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/convert_json.html">convert_json</a></span>()</span></code></pre></div>
<pre><code>{
  "name": "HCV1a ledipasvir resistance SNP detection",
  "version": "1.0.0",
  "review": [
    {
      "status": "approved",
      "reviewer_comment": "Approved by [company name] staff. Waiting for approval from FDA Reviewer",
      "date": 1510507848,
      "reviewer": [
        {
          "reviewer_name": "Jane Doe",
          "reviewer_affiliation": "Seven Bridges Genomics",
          "reviewer_email": "example@sevenbridges.com",
          "reviewer_contribution": "curatedBy",
          "reviewer_orcid": "https://orcid.org/0000-0000-0000-0000"
        }
      ]
    },
    {
      "status": "approved",
      "reviewer_comment": "The revised BCO looks fine",
      "date": 1513110648,
      "reviewer": [
        {
          "reviewer_name": "John Doe",
          "reviewer_affiliation": "U.S. Food and Drug Administration",
          "reviewer_email": "example@fda.gov",
          "reviewer_contribution": "curatedBy",
          "reviewer_orcid": "NA"
        }
      ]
    }
  ],
  "derived_from": "https://github.com/biocompute-objects/BCO_Specification/blob/1.2.1-beta/HCV1a.json",
  "obsolete_after": "2018-11-12T12:30:48-0500",
  "embargo": ["2017-10-12T13:30:48-0400", "2017-11-12T12:30:48-0500"],
  "created": "2017-01-20T09:40:17-0500",
  "modified": "2019-05-10T09:40:17-0500",
  "contributors": [
    {
      "name": "Jane Doe",
      "affiliation": "Seven Bridges Genomics",
      "email": "example@sevenbridges.com",
      "contribution": ["createdBy", "curatedBy"],
      "orcid": "https://orcid.org/0000-0000-0000-0000"
    },
    {
      "name": "John Doe",
      "affiliation": "U.S. Food and Drug Administration",
      "email": "example@fda.gov",
      "contribution": "authoredBy",
      "orcid": "NA"
    }
  ],
  "license": "https://creativecommons.org/licenses/by/4.0/"
} </code></pre>
</div>
<div id="compose-biocompute-objects" class="section level1">
<h1 class="hasAnchor">
<a href="#compose-biocompute-objects" class="anchor"></a>Compose BioCompute Objects</h1>
<p>After all the domains are composed, use <code><a href="../reference/compose_tlf.html">compose_tlf()</a></code> to compose the top level fields, as all the domains will be used to calculate an SHA-256 checksum. Next, use <code><a href="../reference/compose.html">biocompute::compose()</a></code> to compose the complete BioCompute Object.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>tlf &lt;-<span class="st"> </span><span class="kw"><a href="../reference/compose_tlf.html">compose_tlf</a></span>(</span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="kw"><a href="../reference/compose_provenance.html">compose_provenance</a></span>(), <span class="kw"><a href="../reference/compose_usability.html">compose_usability</a></span>(), <span class="kw"><a href="../reference/compose_extension.html">compose_extension</a></span>(),</span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="kw"><a href="../reference/compose_description.html">compose_description</a></span>(), <span class="kw"><a href="../reference/compose_execution.html">compose_execution</a></span>(), <span class="kw"><a href="../reference/compose_parametric.html">compose_parametric</a></span>(),</span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="kw"><a href="../reference/compose_io.html">compose_io</a></span>(), <span class="kw"><a href="../reference/compose_error.html">compose_error</a></span>()</span>
<span id="cb6-5"><a href="#cb6-5"></a>)</span>
<span id="cb6-6"><a href="#cb6-6"></a>biocompute<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/biocompute/man/compose.html">compose</a></span>(</span>
<span id="cb6-7"><a href="#cb6-7"></a>  tlf,</span>
<span id="cb6-8"><a href="#cb6-8"></a>  <span class="kw"><a href="../reference/compose_provenance.html">compose_provenance</a></span>(), <span class="kw"><a href="../reference/compose_usability.html">compose_usability</a></span>(), <span class="kw"><a href="../reference/compose_extension.html">compose_extension</a></span>(),</span>
<span id="cb6-9"><a href="#cb6-9"></a>  <span class="kw"><a href="../reference/compose_description.html">compose_description</a></span>(), <span class="kw"><a href="../reference/compose_execution.html">compose_execution</a></span>(), <span class="kw"><a href="../reference/compose_parametric.html">compose_parametric</a></span>(),</span>
<span id="cb6-10"><a href="#cb6-10"></a>  <span class="kw"><a href="../reference/compose_io.html">compose_io</a></span>(), <span class="kw"><a href="../reference/compose_error.html">compose_error</a></span>()</span>
<span id="cb6-11"><a href="#cb6-11"></a>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/convert_json.html">convert_json</a></span>()</span></code></pre></div>
<pre><code>{
  "bco_spec_version": "https://w3id.org/biocompute/1.3.0/",
  "bco_id": "https://biocompute.sbgenomics.com/bco/d8d777f8-02d8-4cdb-9ea8-80e86c08a461",
  "checksum": "d743d2f1407707eadcc2a700f7c506f13deddf6bf9c8d9d888e9087cc67a1c8f",
  "provenance_domain": {
    "name": [],
    "version": [],
    "review": [],
    "derived_from": [],
    "obsolete_after": [],
    "embargo": [],
    "created": [],
    "modified": [],
    "contributors": [],
    "license": []
  },
  "usability_domain": [],
  "extension_domain": {
    "fhir_extension": [],
    "scm_extension": []
  },
  "description_domain": {
    "keywords": [],
    "xref": [],
    "platform": "Seven Bridges Platform",
    "pipeline_steps": []
  },
  "execution_domain": {
    "script": [],
    "script_driver": [],
    "software_prerequisites": [],
    "external_data_endpoints": [],
    "environment_variables": []
  },
  "parametric_domain": [],
  "io_domain": {
    "input_subdomain": [],
    "output_subdomain": []
  },
  "error_domain": {
    "empirical_error": [],
    "algorithmic_error": []
  }
} </code></pre>
</div>
<div id="convert-to-json-or-yaml" class="section level1">
<h1 class="hasAnchor">
<a href="#convert-to-json-or-yaml" class="anchor"></a>Convert to JSON or YAML</h1>
<p>As we have already seen above, use <code><a href="../reference/convert_json.html">convert_json()</a></code> or <code><a href="../reference/convert_yaml.html">convert_yaml()</a></code> to convert the domain objects or BCO objects into the JSON or YAML format.</p>
</div>
<div id="validate-biocompute-objects" class="section level1">
<h1 class="hasAnchor">
<a href="#validate-biocompute-objects" class="anchor"></a>Validate BioCompute Objects</h1>
<p>To make sure that a BioCompute Object was not tampered and follows the standard, we can validate them by the checksum, or validate them against the BCO JSON schemas. For example</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>bco &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span>(<span class="dt">fileext =</span> <span class="st">".json"</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="kw"><a href="../reference/generate_example.html">generate_example</a></span>(<span class="st">"HCV1a"</span>) <span class="op">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="st">  </span><span class="kw"><a href="../reference/convert_json.html">convert_json</a></span>() <span class="op">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="st">  </span><span class="kw"><a href="../reference/export_json.html">export_json</a></span>(bco)</span>
<span id="cb8-5"><a href="#cb8-5"></a>bco <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/validate_checksum.html">validate_checksum</a></span>()</span></code></pre></div>
<pre><code>── Loading BioCompute Object ───────────────────────────────────────────────────────────────
── Validating Checksum ─────────────────────────────────────────────────────────────────────
Documented checksum: 31ad400fdc50d044255391288b9f48d33beb82a58bf16ec2185c58596277a243
Calculated checksum: 31ad400fdc50d044255391288b9f48d33beb82a58bf16ec2185c58596277a243
Documented and calculated checksum matched.</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>bco &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span>(<span class="dt">fileext =</span> <span class="st">".json"</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="kw"><a href="../reference/generate_example.html">generate_example</a></span>(<span class="st">"HCV1a"</span>) <span class="op">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="st">  </span><span class="kw"><a href="../reference/convert_json.html">convert_json</a></span>() <span class="op">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="st">  </span><span class="kw"><a href="../reference/export_json.html">export_json</a></span>(bco)</span>
<span id="cb10-5"><a href="#cb10-5"></a>bco <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/validate_schema.html">validate_schema</a></span>()</span></code></pre></div>
<pre><code>── 0: Validating BioCompute Object ─────────────────────────────────────────────────────────
[1] FALSE
attr(,"errors")
                                 field           message
1 data.extension_domain.fhir_extension is the wrong type

── 1: Validating Provenance Domain ─────────────────────────────────────────────────────────
[1] FALSE
attr(,"errors")
                field                  message
1  data.review.0.date        is the wrong type
2  data.review.1.date        is the wrong type
3 data.obsolete_after must be date-time format
4        data.embargo        is the wrong type
5        data.created must be date-time format
6       data.modified must be date-time format

── 2: Validating Usability Domain ──────────────────────────────────────────────────────────
[1] TRUE

── 3.1: Validating Extension Domain (FHIR Extension) ───────────────────────────────────────
[1] FALSE
attr(,"errors")
                  field           message
1 data.fhir_resources.0 is the wrong type
2 data.fhir_resources.1 is the wrong type
3 data.fhir_resources.2 is the wrong type
4 data.fhir_resources.3 is the wrong type
5 data.fhir_resources.4 is the wrong type

── 3.2: Validating Extension Domain (SCM Extension) ────────────────────────────────────────
[1] TRUE

── 4: Validating Description Domain ────────────────────────────────────────────────────────
[1] FALSE
attr(,"errors")
                              field                  message
1                   data.xref.0.ids        is the wrong type
2           data.xref.0.access_time must be date-time format
3                   data.xref.1.ids        is the wrong type
4           data.xref.1.access_time must be date-time format
5           data.xref.2.access_time must be date-time format
6                   data.xref.3.ids        is the wrong type
7           data.xref.3.access_time must be date-time format
8                     data.platform        is the wrong type
9 data.pipeline_steps.0.step_number        is the wrong type

── 5: Validating Execution Domain ──────────────────────────────────────────────────────────
[1] FALSE
attr(,"errors")
                           field           message
1                    data.script is the wrong type
2 data.external_data_endpoints.0 is the wrong type
3 data.external_data_endpoints.1 is the wrong type
4 data.external_data_endpoints.2 is the wrong type

── 6: Validating Parametric Domain ─────────────────────────────────────────────────────────
[1] TRUE

── 7: Validating I/O Domain ────────────────────────────────────────────────────────────────
[1] TRUE

── 8: Validating Error Domain ──────────────────────────────────────────────────────────────
[1] TRUE</code></pre>
</div>
<div id="export-biocompute-objects" class="section level1">
<h1 class="hasAnchor">
<a href="#export-biocompute-objects" class="anchor"></a>Export BioCompute Objects</h1>
<p>The biocompute package offers a few convinient functions for exporting the BioCompute Objects to a JSON (<code><a href="../reference/export_json.html">export_json()</a></code>), PDF, HTML, or Word document (<code><a href="../reference/export_pdf.html">export_pdf()</a></code>, <code><a href="../reference/export_html.html">export_html()</a></code>, <code><a href="../reference/export_word.html">export_word()</a></code>), and the capability to export (upload) to cloud-based platforms (<code><a href="../reference/export_sevenbridges.html">export_sevenbridges()</a></code>). Check the function documentation for details.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#design-for-reproducibility">Design for Reproducibility</a></li>
      <li><a href="#compose-biocompute-object-domains">Compose BioCompute Object Domains</a></li>
      <li><a href="#compose-biocompute-objects">Compose BioCompute Objects</a></li>
      <li><a href="#convert-to-json-or-yaml">Convert to JSON or YAML</a></li>
      <li><a href="#validate-biocompute-objects">Validate BioCompute Objects</a></li>
      <li><a href="#export-biocompute-objects">Export BioCompute Objects</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nan Xiao, Soner Koc, Dennis Dean, Seven Bridges Genomics.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
